{"version":3,"file":"index-1dbb613c.js","sources":["../../src/Experience/Utils/EventEmitter.js","../../src/Experience/Utils/Sizes.js","../../src/Experience/Utils/Time.js","../../src/Experience/Experience.js","../../src/script.js"],"sourcesContent":["export default class EventEmitter\n{\n    constructor()\n    {\n        this.callbacks = {}\n        this.callbacks.base = {}\n    }\n\n    on(_names, callback)\n    {\n        // Errors\n        if(typeof _names === 'undefined' || _names === '')\n        {\n            console.warn('wrong names')\n            return false\n        }\n\n        if(typeof callback === 'undefined')\n        {\n            console.warn('wrong callback')\n            return false\n        }\n\n        // Resolve names\n        const names = this.resolveNames(_names)\n\n        // Each name\n        names.forEach((_name) =>\n        {\n            // Resolve name\n            const name = this.resolveName(_name)\n\n            // Create namespace if not exist\n            if(!(this.callbacks[ name.namespace ] instanceof Object))\n                this.callbacks[ name.namespace ] = {}\n\n            // Create callback if not exist\n            if(!(this.callbacks[ name.namespace ][ name.value ] instanceof Array))\n                this.callbacks[ name.namespace ][ name.value ] = []\n\n            // Add callback\n            this.callbacks[ name.namespace ][ name.value ].push(callback)\n        })\n\n        return this\n    }\n\n    off(_names)\n    {\n        // Errors\n        if(typeof _names === 'undefined' || _names === '')\n        {\n            console.warn('wrong name')\n            return false\n        }\n\n        // Resolve names\n        const names = this.resolveNames(_names)\n\n        // Each name\n        names.forEach((_name) =>\n        {\n            // Resolve name\n            const name = this.resolveName(_name)\n\n            // Remove namespace\n            if(name.namespace !== 'base' && name.value === '')\n            {\n                delete this.callbacks[ name.namespace ]\n            }\n\n            // Remove specific callback in namespace\n            else\n            {\n                // Default\n                if(name.namespace === 'base')\n                {\n                    // Try to remove from each namespace\n                    for(const namespace in this.callbacks)\n                    {\n                        if(this.callbacks[ namespace ] instanceof Object && this.callbacks[ namespace ][ name.value ] instanceof Array)\n                        {\n                            delete this.callbacks[ namespace ][ name.value ]\n\n                            // Remove namespace if empty\n                            if(Object.keys(this.callbacks[ namespace ]).length === 0)\n                                delete this.callbacks[ namespace ]\n                        }\n                    }\n                }\n\n                // Specified namespace\n                else if(this.callbacks[ name.namespace ] instanceof Object && this.callbacks[ name.namespace ][ name.value ] instanceof Array)\n                {\n                    delete this.callbacks[ name.namespace ][ name.value ]\n\n                    // Remove namespace if empty\n                    if(Object.keys(this.callbacks[ name.namespace ]).length === 0)\n                        delete this.callbacks[ name.namespace ]\n                }\n            }\n        })\n\n        return this\n    }\n\n    trigger(_name, _args)\n    {\n        // Errors\n        if(typeof _name === 'undefined' || _name === '')\n        {\n            console.warn('wrong name')\n            return false\n        }\n\n        let finalResult = null\n        let result = null\n\n        // Default args\n        const args = !(_args instanceof Array) ? [] : _args\n\n        // Resolve names (should on have one event)\n        let name = this.resolveNames(_name)\n\n        // Resolve name\n        name = this.resolveName(name[ 0 ])\n\n        // Default namespace\n        if(name.namespace === 'base')\n        {\n            // Try to find callback in each namespace\n            for(const namespace in this.callbacks)\n            {\n                if(this.callbacks[ namespace ] instanceof Object && this.callbacks[ namespace ][ name.value ] instanceof Array)\n                {\n                    this.callbacks[ namespace ][ name.value ].forEach(function(callback)\n                    {\n                        result = callback.apply(this, args)\n\n                        if(typeof finalResult === 'undefined')\n                        {\n                            finalResult = result\n                        }\n                    })\n                }\n            }\n        }\n\n        // Specified namespace\n        else if(this.callbacks[ name.namespace ] instanceof Object)\n        {\n            if(name.value === '')\n            {\n                console.warn('wrong name')\n                return this\n            }\n\n            this.callbacks[ name.namespace ][ name.value ].forEach(function(callback)\n            {\n                result = callback.apply(this, args)\n\n                if(typeof finalResult === 'undefined')\n                    finalResult = result\n            })\n        }\n\n        return finalResult\n    }\n\n    resolveNames(_names)\n    {\n        let names = _names\n        names = names.replace(/[^a-zA-Z0-9 ,/.]/g, '')\n        names = names.replace(/[,/]+/g, ' ')\n        names = names.split(' ')\n\n        return names\n    }\n\n    resolveName(name)\n    {\n        const newName = {}\n        const parts = name.split('.')\n\n        newName.original  = name\n        newName.value     = parts[ 0 ]\n        newName.namespace = 'base' // Base namespace\n\n        // Specified namespace\n        if(parts.length > 1 && parts[ 1 ] !== '')\n        {\n            newName.namespace = parts[ 1 ]\n        }\n\n        return newName\n    }\n}","import EventEmitter from \"./EventEmitter\";\n\nexport default class Sizes extends EventEmitter {\n  constructor(){\n    super();\n    // Setup\n    // Tie sizes to DOM window size\n    this.width = window.innerWidth;\n    this.height = window.innerHeight;\n    // Account for pixel ratio to standardize rendering\n    this.pixelRatio = Math.min(window.devicePixelRatio, 2);\n\n    // Resize Event Listener\n    window.addEventListener('resize', () => {\n      this.width = window.innerWidth;\n      this.height = window.innerHeight;\n      this.pixelRatio = Math.min(window.devicePixelRatio, 2);\n      this.trigger('resize');\n    })\n  }\n};","import EventEmitter from \"./EventEmitter.js\";\n\nexport default class Time extends EventEmitter {\n  constructor(){\n    super();\n\n    // Setup\n    // contains timestamp from when experience starts\n    this.start = Date.now();\n    // contains the current timestamp and changes on each frame\n    this.current = this.start;\n    // contains how much time was spent since the start of the experience\n    this.elapsed = 0;\n    // time spent since prev frame; 16ms is close to the time between two frames\n    this.delta = 16;\n  }\n\n  tick(){\n    // Test\n    console.log('tick');\n\n    window.requestAnimationFrame(() => {\n      this.tick();\n    })\n  }\n\n}","import Sizes from './Utils/Sizes.js';\nimport Time from './Utils/Time.js';\n\nexport default class Experience\n{\n  constructor(canvas)\n  {\n    // Testing\n    // console.log('Hello heres the experience');\n    \n    // Global Access\n    window.experience = this;\n\n    // Options\n    this.canvas = canvas;\n\n    // Setup\n    this.sizes = new Sizes();\n    this.time = new Time();\n\n    // Resize Event\n    this.sizes.on('resize', () => \n    {\n      // Test\n      // console.log('A resize has occurred');\n\n      this.resize();\n    });\n\n    // // Resizing warning test\n    // console.log(this.sizes.width);\n    // console.log(this.sizes.height);\n    // console.log(this.sizes.pixelRatio);\n\n\n    resize()\n    {\n      \n    }\n\n\n  }\n};\n","import './style.css';\nimport Experience from './Experience/Experience.js'\n// import * as THREE from 'three'\n// import { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js'\n// import * as dat from 'lil-gui'\n// import { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js'\n\n\nconst experience = new Experience(document.querySelector('canvas.webgl'));\n\n// /**\n//  * Loaders\n//  */\n// const gltfLoader = new GLTFLoader()\n// const textureLoader = new THREE.TextureLoader()\n// const cubeTextureLoader = new THREE.CubeTextureLoader()\n\n// /**\n//  * Base\n//  */\n// // Debug\n// const gui = new dat.GUI()\n// const debugObject = {}\n\n// // Canvas\n// const canvas = document.querySelector('canvas.webgl')\n\n// // Scene\n// const scene = new THREE.Scene()\n\n// /**\n//  * Update all materials\n//  */\n// const updateAllMaterials = () =>\n// {\n//     scene.traverse((child) =>\n//     {\n//         if(child instanceof THREE.Mesh && child.material instanceof THREE.MeshStandardMaterial)\n//         {\n//             // child.material.envMap = environmentMap\n//             child.material.envMapIntensity = debugObject.envMapIntensity\n//             child.material.needsUpdate = true\n//             child.castShadow = true\n//             child.receiveShadow = true\n//         }\n//     })\n// }\n\n// /**\n//  * Environment map\n//  */\n// const environmentMap = cubeTextureLoader.load([\n//     '/textures/environmentMap/px.jpg',\n//     '/textures/environmentMap/nx.jpg',\n//     '/textures/environmentMap/py.jpg',\n//     '/textures/environmentMap/ny.jpg',\n//     '/textures/environmentMap/pz.jpg',\n//     '/textures/environmentMap/nz.jpg'\n// ])\n\n// environmentMap.colorSpace = THREE.SRGBColorSpace\n\n// // scene.background = environmentMap\n// scene.environment = environmentMap\n\n// debugObject.envMapIntensity = 0.4\n// gui.add(debugObject, 'envMapIntensity').min(0).max(4).step(0.001).onChange(updateAllMaterials)\n\n// /**\n//  * Models\n//  */\n// let foxMixer = null\n\n// gltfLoader.load(\n//     '/models/Fox/glTF/Fox.gltf',\n//     (gltf) =>\n//     {\n//         // Model\n//         gltf.scene.scale.set(0.02, 0.02, 0.02)\n//         scene.add(gltf.scene)\n\n//         // Animation\n//         foxMixer = new THREE.AnimationMixer(gltf.scene)\n//         const foxAction = foxMixer.clipAction(gltf.animations[0])\n//         foxAction.play()\n\n//         // Update materials\n//         updateAllMaterials()\n//     }\n// )\n\n// /**\n//  * Floor\n//  */\n// const floorColorTexture = textureLoader.load('textures/dirt/color.jpg')\n// floorColorTexture.colorSpace = THREE.SRGBColorSpace\n// floorColorTexture.repeat.set(1.5, 1.5)\n// floorColorTexture.wrapS = THREE.RepeatWrapping\n// floorColorTexture.wrapT = THREE.RepeatWrapping\n\n// const floorNormalTexture = textureLoader.load('textures/dirt/normal.jpg')\n// floorNormalTexture.repeat.set(1.5, 1.5)\n// floorNormalTexture.wrapS = THREE.RepeatWrapping\n// floorNormalTexture.wrapT = THREE.RepeatWrapping\n\n// const floorGeometry = new THREE.CircleGeometry(5, 64)\n// const floorMaterial = new THREE.MeshStandardMaterial({\n//     map: floorColorTexture,\n//     normalMap: floorNormalTexture\n// })\n// const floor = new THREE.Mesh(floorGeometry, floorMaterial)\n// floor.rotation.x = - Math.PI * 0.5\n// scene.add(floor)\n\n// /**\n//  * Lights\n//  */\n// const directionalLight = new THREE.DirectionalLight('#ffffff', 4)\n// directionalLight.castShadow = true\n// directionalLight.shadow.camera.far = 15\n// directionalLight.shadow.mapSize.set(1024, 1024)\n// directionalLight.shadow.normalBias = 0.05\n// directionalLight.position.set(3.5, 2, - 1.25)\n// scene.add(directionalLight)\n\n// gui.add(directionalLight, 'intensity').min(0).max(10).step(0.001).name('lightIntensity')\n// gui.add(directionalLight.position, 'x').min(- 5).max(5).step(0.001).name('lightX')\n// gui.add(directionalLight.position, 'y').min(- 5).max(5).step(0.001).name('lightY')\n// gui.add(directionalLight.position, 'z').min(- 5).max(5).step(0.001).name('lightZ')\n\n// /**\n//  * Sizes\n//  */\n// const sizes = {\n//     width: window.innerWidth,\n//     height: window.innerHeight\n// }\n\n// window.addEventListener('resize', () =>\n// {\n//     // Update sizes\n//     sizes.width = window.innerWidth\n//     sizes.height = window.innerHeight\n\n//     // Update camera\n//     camera.aspect = sizes.width / sizes.height\n//     camera.updateProjectionMatrix()\n\n//     // Update renderer\n//     renderer.setSize(sizes.width, sizes.height)\n//     renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2))\n// })\n\n// /**\n//  * Camera\n//  */\n// // Base camera\n// const camera = new THREE.PerspectiveCamera(35, sizes.width / sizes.height, 0.1, 100)\n// camera.position.set(6, 4, 8)\n// scene.add(camera)\n\n// // Controls\n// const controls = new OrbitControls(camera, canvas)\n// controls.enableDamping = true\n\n// /**\n//  * Renderer\n//  */\n// const renderer = new THREE.WebGLRenderer({\n//     canvas: canvas,\n//     antialias: true\n// })\n// renderer.useLegacyLights = false\n// renderer.toneMapping = THREE.CineonToneMapping\n// renderer.toneMappingExposure = 1.75\n// renderer.shadowMap.enabled = true\n// renderer.shadowMap.type = THREE.PCFSoftShadowMap\n// renderer.setClearColor('#211d20')\n// renderer.setSize(sizes.width, sizes.height)\n// renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2))\n\n// /**\n//  * Animate\n//  */\n// const clock = new THREE.Clock()\n// let previousTime = 0\n\n// const tick = () =>\n// {\n//     const elapsedTime = clock.getElapsedTime()\n//     const deltaTime = elapsedTime - previousTime\n//     previousTime = elapsedTime\n\n//     // Update controls\n//     controls.update()\n\n//     // Fox animation\n//     if(foxMixer)\n//     {\n//         foxMixer.update(deltaTime)\n//     }\n\n//     // Render\n//     renderer.render(scene, camera)\n\n//     // Call tick again on the next frame\n//     window.requestAnimationFrame(tick)\n// }\n\n// tick()"],"names":["EventEmitter","_names","callback","_name","name","namespace","_args","finalResult","args","names","newName","parts","Sizes","Time","Experience","canvas"],"mappings":"ssBAAe,MAAMA,CACrB,CACI,aACA,CACI,KAAK,UAAY,CAAE,EACnB,KAAK,UAAU,KAAO,CAAE,CAC3B,CAED,GAAGC,EAAQC,EACX,CAEI,OAAG,OAAOD,EAAW,KAAeA,IAAW,IAE3C,QAAQ,KAAK,aAAa,EACnB,IAGR,OAAOC,EAAa,KAEnB,QAAQ,KAAK,gBAAgB,EACtB,KAIG,KAAK,aAAaD,CAAM,EAGhC,QAASE,GACf,CAEI,MAAMC,EAAO,KAAK,YAAYD,CAAK,EAG9B,KAAK,UAAWC,EAAK,SAAS,YAAc,SAC7C,KAAK,UAAWA,EAAK,SAAW,EAAG,CAAE,GAGpC,KAAK,UAAWA,EAAK,SAAS,EAAIA,EAAK,KAAO,YAAY,QAC3D,KAAK,UAAWA,EAAK,SAAW,EAAEA,EAAK,KAAK,EAAK,CAAE,GAGvD,KAAK,UAAWA,EAAK,SAAS,EAAIA,EAAK,KAAK,EAAG,KAAKF,CAAQ,CACxE,CAAS,EAEM,KACV,CAED,IAAID,EACJ,CAEI,OAAG,OAAOA,EAAW,KAAeA,IAAW,IAE3C,QAAQ,KAAK,YAAY,EAClB,KAIG,KAAK,aAAaA,CAAM,EAGhC,QAASE,GACf,CAEI,MAAMC,EAAO,KAAK,YAAYD,CAAK,EAGnC,GAAGC,EAAK,YAAc,QAAUA,EAAK,QAAU,GAE3C,OAAO,KAAK,UAAWA,EAAK,SAAW,UAOpCA,EAAK,YAAc,OAGlB,UAAUC,KAAa,KAAK,UAErB,KAAK,UAAWA,CAAS,YAAc,QAAU,KAAK,UAAWA,CAAW,EAAED,EAAK,KAAO,YAAY,QAErG,OAAO,KAAK,UAAWC,CAAS,EAAID,EAAK,KAAO,EAG7C,OAAO,KAAK,KAAK,UAAWC,CAAW,CAAA,EAAE,SAAW,GACnD,OAAO,KAAK,UAAWA,CAAW,QAM1C,KAAK,UAAWD,EAAK,SAAS,YAAc,QAAU,KAAK,UAAWA,EAAK,SAAS,EAAIA,EAAK,KAAO,YAAY,QAEpH,OAAO,KAAK,UAAWA,EAAK,SAAW,EAAEA,EAAK,KAAO,EAGlD,OAAO,KAAK,KAAK,UAAWA,EAAK,SAAS,CAAE,EAAE,SAAW,GACxD,OAAO,KAAK,UAAWA,EAAK,SAAW,EAG/D,CAAS,EAEM,KACV,CAED,QAAQD,EAAOG,EACf,CAEI,GAAG,OAAOH,EAAU,KAAeA,IAAU,GAEzC,eAAQ,KAAK,YAAY,EAClB,GAGX,IAAII,EAAc,KAIlB,MAAMC,EAASF,aAAiB,MAAcA,EAAL,CAAE,EAG3C,IAAIF,EAAO,KAAK,aAAaD,CAAK,EAMlC,GAHAC,EAAO,KAAK,YAAYA,EAAM,CAAC,CAAE,EAG9BA,EAAK,YAAc,OAGlB,UAAUC,KAAa,KAAK,UAErB,KAAK,UAAWA,CAAS,YAAc,QAAU,KAAK,UAAWA,CAAW,EAAED,EAAK,KAAO,YAAY,OAErG,KAAK,UAAWC,CAAW,EAAED,EAAK,KAAO,EAAC,QAAQ,SAASF,EAC3D,CACaA,EAAS,MAAM,KAAMM,CAAI,CAM1D,CAAqB,UAML,KAAK,UAAWJ,EAAK,SAAW,YAAY,OACpD,CACI,GAAGA,EAAK,QAAU,GAEd,eAAQ,KAAK,YAAY,EAClB,KAGX,KAAK,UAAWA,EAAK,SAAS,EAAIA,EAAK,KAAK,EAAG,QAAQ,SAASF,EAChE,CACaA,EAAS,MAAM,KAAMM,CAAI,CAIlD,CAAa,CACJ,CAED,OAAOD,CACV,CAED,aAAaN,EACb,CACI,IAAIQ,EAAQR,EACZ,OAAAQ,EAAQA,EAAM,QAAQ,oBAAqB,EAAE,EAC7CA,EAAQA,EAAM,QAAQ,SAAU,GAAG,EACnCA,EAAQA,EAAM,MAAM,GAAG,EAEhBA,CACV,CAED,YAAYL,EACZ,CACI,MAAMM,EAAU,CAAE,EACZC,EAAQP,EAAK,MAAM,GAAG,EAE5B,OAAAM,EAAQ,SAAYN,EACpBM,EAAQ,MAAYC,EAAO,CAAG,EAC9BD,EAAQ,UAAY,OAGjBC,EAAM,OAAS,GAAKA,EAAO,CAAG,IAAK,KAElCD,EAAQ,UAAYC,EAAO,CAAG,GAG3BD,CACV,CACL,CClMe,MAAME,UAAcZ,CAAa,CAC9C,aAAa,CACX,QAGA,KAAK,MAAQ,OAAO,WACpB,KAAK,OAAS,OAAO,YAErB,KAAK,WAAa,KAAK,IAAI,OAAO,iBAAkB,CAAC,EAGrD,OAAO,iBAAiB,SAAU,IAAM,CACtC,KAAK,MAAQ,OAAO,WACpB,KAAK,OAAS,OAAO,YACrB,KAAK,WAAa,KAAK,IAAI,OAAO,iBAAkB,CAAC,EACrD,KAAK,QAAQ,QAAQ,CAC3B,CAAK,CACF,CACH,CClBe,MAAMa,UAAab,CAAa,CAC7C,aAAa,CACX,QAIA,KAAK,MAAQ,KAAK,MAElB,KAAK,QAAU,KAAK,MAEpB,KAAK,QAAU,EAEf,KAAK,MAAQ,EACd,CAED,MAAM,CAEJ,QAAQ,IAAI,MAAM,EAElB,OAAO,sBAAsB,IAAM,CACjC,KAAK,KAAI,CACf,CAAK,CACF,CAEH,CCvBe,MAAMc,CACrB,CACE,YAAYC,EACZ,CAKE,OAAO,WAAa,KAGpB,KAAK,OAASA,EAGd,KAAK,MAAQ,IAAIH,EACjB,KAAK,KAAO,IAAIC,EAGhB,KAAK,MAAM,GAAG,SAAU,IACxB,CAIE,KAAK,OAAM,CACjB,CAAK,EAQD,OAAQ,CAMT,CACH,CClCmB,IAAIC,EAAW,SAAS,cAAc,cAAc,CAAC"}